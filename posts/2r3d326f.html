<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Những thử thách gặp phải trong dự án Detect License Plate | Blog's GluTis</title><meta name="author" content="GluTis,huyv80313@gmail.com"><meta name="copyright" content="GluTis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="FFFAFA"><meta name="description" content="Giới thiệu. Bối cảnh.  Mình đang tham gia một Lab về thị giác máy tính (Computer Vision) tại C7, Đại học Bách Khoa Hà Nội. Bắt đầu gia nhập Lab vào kỳ 1 năm 3. Trong quá trình làm việc và học tập tại">
<meta property="og:type" content="article">
<meta property="og:title" content="Những thử thách gặp phải trong dự án Detect License Plate">
<meta property="og:url" content="https://huyvu15.github.io/posts/2r3d326f">
<meta property="og:site_name" content="Blog&#39;s GluTis">
<meta property="og:description" content="Giới thiệu. Bối cảnh.  Mình đang tham gia một Lab về thị giác máy tính (Computer Vision) tại C7, Đại học Bách Khoa Hà Nội. Bắt đầu gia nhập Lab vào kỳ 1 năm 3. Trong quá trình làm việc và học tập tại">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://d3i71xaburhd42.cloudfront.net/956a55d67a95509b5babfec73b0329cf936fd261/2-Figure1-1.png">
<meta property="article:published_time" content="2024-06-12T08:39:12.000Z">
<meta property="article:modified_time" content="2024-06-23T06:51:22.647Z">
<meta property="article:author" content="GluTis">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="Computer Vision">
<meta property="article:tag" content="Algorithms">
<meta property="article:tag" content="Model">
<meta property="article:tag" content="Bugs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://d3i71xaburhd42.cloudfront.net/956a55d67a95509b5babfec73b0329cf936fd261/2-Figure1-1.png"><link rel="shortcut icon" href="/img/about/icon.jpg"><link rel="canonical" href="https://huyvu15.github.io/posts/2r3d326f"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="G2rPpjA8qhdAQYUqgC3WTFeaOfenZ71SWXKcg_WnOSk"/><meta name="baidu-site-verification" content="codeva-z19ndifHai"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?204a6d3bb0cb0e09978eff5ba3023104";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "kmd11rvmc3");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"Bài viết này đã có","messageNext":"Ngày không cập nhật, xin lưu ý phân biệt tính kịp thời, có thể một phần đã không còn hiệu lực."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Những thử thách gặp phải trong dự án Detect License Plate',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-06-23 13:51:22'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'FFFAFA')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/card-info-btn.css"><script data-pjax charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script data-pjax>LA.init({id:"3HPYFt9znqKItrHZ",ck:"3HPYFt9znqKItrHZ",autoTrack:true})</script><link rel="stylesheet" type="text/css" href="/css/Capoo.css"><link rel="stylesheet" type="text/css" href="/css/foot.css"><link rel="stylesheet" type="text/css" href="/css/extra.css"><meta name="generator" content="Hexo 7.1.1"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /><link rel="alternate" href="/atom.xml" title="Blog's GluTis" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">108</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">57</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://d3i71xaburhd42.cloudfront.net/956a55d67a95509b5babfec73b0329cf936fd261/2-Figure1-1.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Blog's GluTis"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/icon.jpg"/><span class="site-name">Blog's GluTis</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Những thử thách gặp phải trong dự án Detect License Plate<a class="post-edit-link" href="https://github.com/huyvu15/huyvu15.github.io/tree/main/source/_posts/Changlleng_in_DLP.md" title="Edited on" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-06-12T08:39:12.000Z" title="Created 2024-06-12 15:39:12">2024-06-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-06-23T06:51:22.647Z" title="Updated 2024-06-23 13:51:22">2024-06-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Computer-Vision/">Computer Vision</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>10mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Những thử thách gặp phải trong dự án Detect License Plate"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="giới-thiệu">Giới thiệu.</h1>
<h2 id="bối-cảnh">Bối cảnh.</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.tugraz.at/fileadmin/_processed_/6/1/csm_CDL_Computer_Vision_Banner_by_Lunghammer_tugraz_f8529fe874.jpg" alt="lab"></p>
<p>Mình đang tham gia một Lab về thị giác máy tính (Computer Vision) tại C7, Đại học Bách Khoa Hà Nội. Bắt đầu gia nhập Lab vào kỳ 1 năm 3. Trong quá trình làm việc và học tập tại đây,mình đã có cơ hội tham gia vào nhiều buổi seminar thú vị và đóng góp vào các dự án nghiên cứu khác nhau. Những thách thức và khó khăn không ít lần đã khiến mình phải nỗ lực và dành rất nhiều thời gian để tìm ra giải pháp. Đặc biệt, trong bài viết này, mình muốn chia sẻ về những khó khăn mà mình đã gặp phải trong dự án Detect License Plate – một dự án kéo dài lâu nhất kể từ khi mình bắt đầu tham gia hoạt động tại Lab. Những kinh nghiệm và bài học quý báu từ dự án này đã giúp mình trưởng thành hơn trong lĩnh vực thị giác máy tính.</p>
<h2 id="về-dự-án">Về dự án.</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://arsa.technology/wp-content/uploads/2022/09/2.-automatic-license-plate-recognition-system.png" alt="project"></p>
<p>Hệ thống Detect License Plate (DLP) là một giải pháp tiên tiến được tinh chỉnh để theo dõi và giám sát lưu lượng xe đi vào và ra khỏi một khu vực cụ thể. DLP không chỉ sử dụng công nghệ nhận diện biển số xe mạnh mẽ, mà còn tích hợp mô hình YOLO để tự động ghi lại thông tin chi tiết về các phương tiện tham gia giao thông, bao gồm biển số, trạng thái, và thời gian thực.</p>
<h1 id="flask-lại-thẻ-cài-hệ-điều-hành-cho-jetson-nano">Flask lại thẻ, cài hệ điều hành cho Jetson nano.</h1>
<p>Do phải làm việc với thiết bị phần cứng, cụ thể là một camera hoạt động tách biệt như một máy tính mini. Để làm việc với camera này trước tiên ta phải cài lại hệ điều hành cho nó. Không giống như các cách cài hệ điều hành thông thường ta phải thông qua một thiết bị là một thanh đọc thẻ (các anh hay gọi là Flask) phòng trường hợp là cứ cam lỗi là lại lôi ra để flask lại ngày flask vài lần là bình thường. Cái này ban đầu mới lạ nên cài hơi khó thôi. Sau 1 buổi train thì mình đã cài ok.</p>
<p>Đây là cái thiết bị đọc</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://phukienpc.vn/wp-content/uploads/2020/03/dau-doc-the-card-reader-all-in-one-ssk-scrm025-phukienpc-vn-2.jpg" alt="aaa"></p>
<h1 id="cài-các-thư-viện-riêng-cho-jetson-nano-😙">Cài các thư viện riêng cho Jetson nano.😙</h1>
<p>Đây là công việc cực kỳ mệt mỏi do không giống với các thư viện thông thường hoạt động trên máy và code thông thường. Camera chạy hệ điều hành riêng đòi hỏi phải có những thư viện hỗ trợ dành riêng cho nó. Như numpy thông thường ko dùng được cho cam ta phải tự lên trang chủ của jetson nano để tìm tài liệu và tìm đúng thư viện đó ở một nơi nào đó trên github và cài vào.</p>
<h1 id="luyện-lại-model-bằng-mô-hình-yolo">Luyện lại model bằng mô hình YoLo.</h1>
<p>Xem video một ông anh ấn độ và làm theo nhưng bugs tùm lum.</p>
<p>Đây là bước vất vả nhất, đã thử nhiều cách nhưng vẫn không thể convert được. Cuối cùng check tỷ mỉ từng bước thì phát hiện ra phải để numclass = 1. Do bài toán của mình chỉ có 1 lớp car :) Suy mất 1 tuần.</p>
<h1 id="tiền-xử-lý-ảnh-đọc-text-trên-biển-bằng-ocr-🕵">Tiền xử lý ảnh - Đọc text trên biển bằng OCR 🕵️</h1>
<h2 id="luyện-model">Luyện model</h2>
<p>Cũng vất cả không kém so với các bước ở trên. Để model xử lý ảnh được tốt nhất thì đầu vào phải tốt. Bước này dùng 7749 model để áp dụng: model phát hiện biển, cắt biển, xoay biển, đánh giá biển, embedding ảnh, Cắt chữ trong ảnh…</p>
<h2 id="chuẩn-bị-dữ-liệu">Chuẩn bị dữ liệu</h2>
<p>Tại bước ngày thầy cũng yêu cầu cực kỳ ngặt nghèo từ việc đi chuẩn bị bộ dữ liệu. Dữ liệu phải đi thu thập từ thực tế là các ảnh biển số xe máy, ô tô. Số lượng cần là 3000 ảnh biển. Thầy còn bảo tài trợ để đi thu thập dữ liệu hiếm cơ :&gt;</p>
<h2 id="gán-nhãn">Gán nhãn</h2>
<p>Ở bước gán nhãn phải thực hiện gán tọa độ 4 góc của biển vào 1 file txt và file ảnh đi kèm. Tuy nhiên thay vì làm thủ công ta có công cụ hỗ trợ sẵn là Robotflow. Tuy nhiên gắn nhãn 2000 ảnh bước đầu vẫn rất suy nhé.</p>
<h2 id="chuẩn-hóa-đầu-vào">Chuẩn hóa đầu vào</h2>
<p>Tiếp tục chuẩn hóa đầu vào như crop, xử lý nhiễu, tăng sáng, tăng cường ảnh, xoay ảnh về thẳng</p>
<h2 id="xoay-ảnh">Xoay ảnh</h2>
<p>Ở bước xoay ảnh, ngoài việc áp dụng thuật toán để bắt các góc và xoay ngẫu nhiên từ các góc đó. Thì vấn đề là làm thế nào để biết được là nó có đang xoay đúng hay không.</p>
<p>Cách đơn giản nhất là dùng 1 ảnh chuẩn, xoay 1 góc bất kỳ (xoay nhiều góc dùng for để test). Dùng thuật toán xoay ảnh của mình xoay ảnh đó rồi embedding 2 ảnh so sánh dựa trên độ tương đồng. Ở đây ko thể so sánh 2 ảnh mặc dù đầu vào là vector vì ảnh bị crop. Và cái nữa là lại phải train một model ra file .pt mới do dữ liệu thu thập không có ảnh sát. Again 🙂</p>
<h1 id="thiết-kế-database-cho-camera">Thiết kế database cho camera</h1>
<p>Ngoài việc phải làm quen với db mới sqlite - một db nhỏ nhặn với các tính năng phù hợp cho camera ram yếu. Các việc khác từ code đến settings đều đơn giản.</p>
<h1 id="thực-hiện-xử-lý-độ-chễ-cho-video">Thực hiện xử lý độ chễ cho video</h1>
<p><strong>Vấn đề:</strong> Do quá trình truyền frame từ camera khi sử dụng thực tế đến App có thể bị<br>
gián đoạn do tốc độ mạng, camera bị nhiễu do hoạt động trong môi trường có nhiều<br>
kim loại. Việc cài tiến chất lượng camera hoặc tăng RAM rất khó để thực hiện.</p>
<p>→ Vậy làm thế nào để frame có thể được xử lý 1 cách đều đặn và liên tục</p>
<div align="center">
  <font color='#FF6666'> Mình đã đề xuất nhiều giải pháp tuy nhiên đều chưa tối ưu.</font>
</div>
<blockquote>
<p><strong>Cách 1:</strong> Sử dụng 1 hàng đợi nạp frame vào hàng đợi đến một mức độ nhất định thì<br>
chuyển cho App xử lý.<br>
→ Sau khi hàng đợi đầy sẽ nạp lại cho App xử lý. Sau khi hàng đợi trống phải chờ 1<br>
thời gian để frame nạp đầy hàng đợi.</p>
</blockquote>
<blockquote>
<p><strong>Cách 2:</strong> Sử dụng 1 hàng đợi và 1 stack, thực hiện xử lý song song. Frame nạp liên tục<br>
vào hàng đợi và stack. App đọc trực tiếp và liên tục xử lý frame sinh ra từ queue. Sau<br>
khi hàng dợi trống thì sẽ thực hiện đọc từ stack<br>
→ Không phải chờ để nạp hàng đợi. Tuy nhiên tốn bộ nhớ hơn. Nhưng fps tăng gấp<br>
đôi, frame có thể bị lặp - xử lý lại. Sau 1 quãng nhất định thì xóa hết phần tử trong<br>
stack.</p>
</blockquote>
<blockquote>
<p><strong>Cách 3:</strong> sử dụng 2 hàng đợi.<br>
Một frame tương đương với 1 ảnh.</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io">GluTis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io/posts/2r3d326f">https://huyvu15.github.io/posts/2r3d326f</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AI/">AI</a><a class="post-meta__tags" href="/tags/Computer-Vision/">Computer Vision</a><a class="post-meta__tags" href="/tags/Algorithms/">Algorithms</a><a class="post-meta__tags" href="/tags/Model/">Model</a><a class="post-meta__tags" href="/tags/Bugs/">Bugs</a></div><div class="post_share"><div class="social-share" data-image="https://d3i71xaburhd42.cloudfront.net/956a55d67a95509b5babfec73b0329cf936fd261/2-Figure1-1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Sponsor</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/money/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/wechat.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li><li class="reward-item"><a href="/img/money/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/alipay.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/0r6e292f" title="Tìm Lại Kiến Thức Trong Tháng 6"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://literacyplaygroundblog.wordpress.com/wp-content/uploads/2016/10/qar.jpg?w=656" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Tìm Lại Kiến Thức Trong Tháng 6</div></div></a></div><div class="next-post pull-right"><a href="/posts/1r6d396f" title="Học gì để trở thành một Data Engineer"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://photo2.tinhte.vn/data/attachment-files/2020/12/5245084_cover_home_data_engineer.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">Học gì để trở thành một Data Engineer</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/posts/1r6d393f" title="AI và một vài cái hay ho"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vbpo.com.vn/media/uploads/2021/05/27/ai-la-gi.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="title">AI và một vài cái hay ho</div></div></a></div><div><a href="/posts/1r6c393f" title="Kĩ thuật Transfer Learning và Fineturning Learning"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/C5612AQGjSQYL10w5cg/article-cover_image-shrink_600_2000/0/1589871047792?e=2147483647&v=beta&t=8TX2avemVBdHTrbRIsJvSjtpr-JU5QEc8Jqnn-N2kuU" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="title">Kĩ thuật Transfer Learning và Fineturning Learning</div></div></a></div><div><a href="/posts/nrbd392f" title="Hướng dẫn chạy lại base pipeline"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.xenonstack.com/hubfs/xenonstack-machine-learning-pipeline.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-23</div><div class="title">Hướng dẫn chạy lại base pipeline</div></div></a></div><div><a href="/posts/1r6d39fff" title="Tìm lại kiến thức trong tháng 8"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://clipground.com/images/august-clipart-11.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-08</div><div class="title">Tìm lại kiến thức trong tháng 8</div></div></a></div><div><a href="/posts/1rcc393f" title="Keyframe - Trái Tim của Nội Dung Video"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-10</div><div class="title">Keyframe - Trái Tim của Nội Dung Video</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#gi%E1%BB%9Bi-thi%E1%BB%87u"><span class="toc-number">1.</span> <span class="toc-text">Giới thiệu.</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#b%E1%BB%91i-c%E1%BA%A3nh"><span class="toc-number">1.1.</span> <span class="toc-text">Bối cảnh.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v%E1%BB%81-d%E1%BB%B1-%C3%A1n"><span class="toc-number">1.2.</span> <span class="toc-text">Về dự án.</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#flask-l%E1%BA%A1i-th%E1%BA%BB-c%C3%A0i-h%E1%BB%87-%C4%91i%E1%BB%81u-h%C3%A0nh-cho-jetson-nano"><span class="toc-number">2.</span> <span class="toc-text">Flask lại thẻ, cài hệ điều hành cho Jetson nano.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#c%C3%A0i-c%C3%A1c-th%C6%B0-vi%E1%BB%87n-ri%C3%AAng-cho-jetson-nano-%F0%9F%98%99"><span class="toc-number">3.</span> <span class="toc-text">Cài các thư viện riêng cho Jetson nano.😙</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#luy%E1%BB%87n-l%E1%BA%A1i-model-b%E1%BA%B1ng-m%C3%B4-h%C3%ACnh-yolo"><span class="toc-number">4.</span> <span class="toc-text">Luyện lại model bằng mô hình YoLo.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ti%E1%BB%81n-x%E1%BB%AD-l%C3%BD-%E1%BA%A3nh-%C4%91%E1%BB%8Dc-text-tr%C3%AAn-bi%E1%BB%83n-b%E1%BA%B1ng-ocr-%F0%9F%95%B5"><span class="toc-number">5.</span> <span class="toc-text">Tiền xử lý ảnh - Đọc text trên biển bằng OCR 🕵️</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#luy%E1%BB%87n-model"><span class="toc-number">5.1.</span> <span class="toc-text">Luyện model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chu%E1%BA%A9n-b%E1%BB%8B-d%E1%BB%AF-li%E1%BB%87u"><span class="toc-number">5.2.</span> <span class="toc-text">Chuẩn bị dữ liệu</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#g%C3%A1n-nh%C3%A3n"><span class="toc-number">5.3.</span> <span class="toc-text">Gán nhãn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chu%E1%BA%A9n-h%C3%B3a-%C4%91%E1%BA%A7u-v%C3%A0o"><span class="toc-number">5.4.</span> <span class="toc-text">Chuẩn hóa đầu vào</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xoay-%E1%BA%A3nh"><span class="toc-number">5.5.</span> <span class="toc-text">Xoay ảnh</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#thi%E1%BA%BFt-k%E1%BA%BF-database-cho-camera"><span class="toc-number">6.</span> <span class="toc-text">Thiết kế database cho camera</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#th%E1%BB%B1c-hi%E1%BB%87n-x%E1%BB%AD-l%C3%BD-%C4%91%E1%BB%99-ch%E1%BB%85-cho-video"><span class="toc-number">7.</span> <span class="toc-text">Thực hiện xử lý độ chễ cho video</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By GluTis</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const abcjsInit = () => {
    const abcjsFn = () => {
      document.querySelectorAll(".abc-music-sheet").forEach(ele => {
        ABCJS.renderAbc(ele, ele.innerHTML, {responsive: 'resize'})
      })
    }
    
    typeof ABCJS === 'object' ? abcjsFn()
      : getScript('https://cdn.jsdelivr.net/npm/abcjs@6.3.0/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : window.addEventListener('load', abcjsInit)
})()</script><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'huyvu15/huyvu15.github.io',
      'data-repo-id': 'R_kgDOMHLk0w',
      'data-category-id': 'DIC_kwDOMHLk084CgTi9',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },{"data-category":"Show and tell","data-mapping":"url","data-strict":0,"data-reactions-enabled":1,"data-emit-metadata":1,"data-input-position":"top","data-theme":"preferred_color_scheme","data-lang":"en","crossorigin":"anonymous"})

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script data-pjax src="/js/foot.js"></script><script data-pjax src="/js/ip.js"></script><script data-pjax src="/js/Capoo.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="Mình,là,GluTis" data-fontsize="15px" data-random="false" async="async"></script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }
  
    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'odrCmotXiknn7yHdF'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>