<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Keyframe - Trái Tim của Nội Dung Video | Blog's GluTis</title><meta name="author" content="GluTis,huyv80313@gmail.com"><meta name="copyright" content="GluTis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="FFFAFA"><meta name="description" content="Keyframe trong Video Keyframe là gì?  Trong thế giới video, keyframe đóng vai trò như những “nốt nhạc” chủ đạo trong một bản nhạc, là những khoảnh khắc quan trọng đánh dấu sự thay đổi lớn hoặc điểm nh">
<meta property="og:type" content="article">
<meta property="og:title" content="Keyframe - Trái Tim của Nội Dung Video">
<meta property="og:url" content="https://huyvu15.github.io/posts/1rcc393f">
<meta property="og:site_name" content="Blog&#39;s GluTis">
<meta property="og:description" content="Keyframe trong Video Keyframe là gì?  Trong thế giới video, keyframe đóng vai trò như những “nốt nhạc” chủ đạo trong một bản nhạc, là những khoảnh khắc quan trọng đánh dấu sự thay đổi lớn hoặc điểm nh">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png">
<meta property="article:published_time" content="2024-08-10T15:35:12.000Z">
<meta property="article:modified_time" content="2024-08-11T03:52:54.756Z">
<meta property="article:author" content="GluTis">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="Knownledge">
<meta property="article:tag" content="Extract">
<meta property="article:tag" content="Process Video">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png"><link rel="shortcut icon" href="/img/about/icon.jpg"><link rel="canonical" href="https://huyvu15.github.io/posts/1rcc393f"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="G2rPpjA8qhdAQYUqgC3WTFeaOfenZ71SWXKcg_WnOSk"/><meta name="baidu-site-verification" content="codeva-z19ndifHai"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?204a6d3bb0cb0e09978eff5ba3023104";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "kmd11rvmc3");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"Bài viết này đã có","messageNext":"Ngày không cập nhật, xin lưu ý phân biệt tính kịp thời, có thể một phần đã không còn hiệu lực."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Keyframe - Trái Tim của Nội Dung Video',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-11 10:52:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'FFFAFA')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/card-info-btn.css"><script data-pjax charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script data-pjax>LA.init({id:"3HPYFt9znqKItrHZ",ck:"3HPYFt9znqKItrHZ",autoTrack:true})</script><link rel="stylesheet" type="text/css" href="/css/Capoo.css"><link rel="stylesheet" type="text/css" href="/css/foot.css"><link rel="stylesheet" type="text/css" href="/css/extra.css"><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="Blog's GluTis" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">53</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">109</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Blog's GluTis"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/icon.jpg"/><span class="site-name">Blog's GluTis</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Keyframe - Trái Tim của Nội Dung Video<a class="post-edit-link" href="https://github.com/huyvu15/huyvu15.github.io/tree/main/source/_posts/Extract_keyframe.md" title="Edited on" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-08-10T15:35:12.000Z" title="Created 2024-08-10 22:35:12">2024-08-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-08-11T03:52:54.756Z" title="Updated 2024-08-11 10:52:54">2024-08-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AI/">AI</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">2.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>15mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Keyframe - Trái Tim của Nội Dung Video"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="keyframe-trong-video">Keyframe trong Video</h1>
<h2 id="keyframe-là-gì">Keyframe là gì?</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gumlet-blog-content.gumlet.io/learn/content/images/2023/08/Keyframe-Interval-Example.png" alt=""></p>
<p>Trong thế giới video, keyframe đóng vai trò như những “nốt nhạc” chủ đạo trong một bản nhạc, là những khoảnh khắc quan trọng đánh dấu sự thay đổi lớn hoặc điểm nhấn của nội dung. Đặc biệt trong nén video, keyframe là những khung hình độc lập, không cần dựa vào bất kỳ khung hình nào khác để tái tạo, giúp chúng trở thành nền tảng cho việc phân tích và xử lý video.</p>
<p>-&gt; Hiểu đơn sơ là keyframe là nhưng frame mang tất cả nội dung của video, nhưng có độ nén cao và dung lượng ít hơn so với video gốc. (như giáo trình giải tích của thầy Bùi Xuân Diệu, nội dung chính là các trang có chứa công thức)</p>
<h2 id="tại-sao-việc-extract-keyframe-lại-quan-trọng">Tại sao việc extract keyframe lại quan trọng?</h2>
<p>Hãy tưởng tượng bạn có một video dài vài giờ đồng hồ, nhưng chỉ cần một vài khoảnh khắc để nắm bắt nội dung chính. Đó chính là lúc việc extract keyframe trở thành công cụ đắc lực. Keyframe giúp bạn nắm bắt cốt lõi của video mà không cần phải xem toàn bộ, từ việc tạo ra các bản tóm tắt ngắn gọn đến việc phân tích sâu hơn nội dung video.</p>
<p>-&gt; Nhìn mấy ông cháu đọc vài phút xong quyển sách bằng cách lướt vèo vèo vèo, làm mình hoảng, chắc do mắt họ có model xử lý và bắt keyframe với độ chính xác cực cao :0</p>
<h1 id="các-phương-pháp-extract-keyframe-chọn-lọc-khoảnh-khắc-đắt-giá">Các Phương Pháp Extract Keyframe: Chọn Lọc Khoảnh Khắc Đắt Giá</h1>
<blockquote>
<p>Dựa trên thời gian:<br>
Một cách tiếp cận đơn giản và hiệu quả là chọn keyframe theo các khoảng thời gian nhất định. Phương pháp này rất hữu ích khi bạn cần nắm bắt toàn cảnh của video mà không quan tâm quá nhiều đến chi tiết cụ thể.</p>
</blockquote>
<blockquote>
<p>Dựa trên sự thay đổi nội dung:<br>
Để tăng độ chính xác, bạn có thể chọn keyframe dựa trên những thay đổi nổi bật giữa các khung hình liên tiếp. Ví dụ, khi có sự thay đổi lớn về màu sắc, hình dạng, hoặc chuyển động, đó chính là những khoảnh khắc bạn nên lưu giữ lại.</p>
</blockquote>
<blockquote>
<p>Sử dụng thuật toán Machine Learning:<br>
Nhờ vào sự phát triển của trí tuệ nhân tạo, bạn có thể sử dụng các mô hình học máy để tự động chọn ra những keyframe quan trọng nhất. Các mô hình này có khả năng nhận diện những đối tượng, hành động hoặc sự kiện đặc biệt trong video, giúp bạn không bỏ lỡ bất kỳ chi tiết nào.</p>
</blockquote>
<p><strong>Ngoài mấy cái trên ở các cõi mạng thì tôi sẽ giới thiệu một cái về tasks mà tôi đang nghiên cứu, giới thiệu cho mọi người coi thử.</strong></p>
<p>Chung quy lại thì mấy thuật toán này thường gọi là <code>Frame Difference Method - Algo</code>, tùy vào các yêu cầu và video thì người ta xào lại cho hợp lý.</p>
<h1 id="thuật-toán-1-tôi-nghĩ-là-tốt-nhất-trong-trường-hợp-của-tôi-đang-gặp-hiện-tại">Thuật toán 1: Tôi nghĩ là tốt nhất trong trường hợp của tôi đang gặp hiện tại</h1>
<blockquote>
<p>Ứng với các video tin tức</p>
</blockquote>
<ol>
<li>Bắt đầu: Đọc video đầu vào (lấy từng frame), đặt giá trị ngưỡng (threshold), và thiết lập khung hình ban đầu (initial frame) là None.</li>
<li>Lặp:<br>
Lặp qua từng frame của video:</li>
</ol>
<p>Đọc frame hiện tại.</p>
<p>Chuyển frame hiện tại sang ảnh xám.</p>
<ul>
<li>Nếu frame trước đó là None:</li>
<li>Lưu frame hiện tại làm keyframe đầu tiên.</li>
<li>Gán frame hiện tại là frame trước đó.</li>
</ul>
<p>Tiếp tục vòng lặp.</p>
<p>Tính toán sự khác biệt giữa frame hiện tại và frame trước đó.</p>
<p>Tính giá trị trung bình của sự khác biệt.</p>
<p>Nếu giá trị trung bình lớn hơn ngưỡng:</p>
<ul>
<li>Lưu frame hiện tại làm keyframe.</li>
<li>Gán frame hiện tại là frame trước đó.</li>
</ul>
<ol start="3">
<li>Kết thúc vòng lặp.</li>
</ol>
<hr>
<ul>
<li>Nguyên lý cơ bản: Tìm những Frame có thay đổi đáng kể so với frame trước đó</li>
<li>Chuyển sang ảnh sám để giảm tốc độ tính toán.</li>
<li>Tính toán sự khác biệt: trị tuyệt đối của 2 vector frame, k – 1, k.</li>
<li>Threshold: giá trị quyết định độ nhạy của thuật toán, quá cao sẽ làm mất mát nhiều thông tin.</li>
</ul>
<hr>
<ul>
<li><strong>Ưu điểm:</strong> đơn giản, hiệu quả cho nhiều video, xử lý được cho nhiều video, có  thể real – time tốt</li>
<li><strong>Hạn chế:</strong> Không hiệu quả cho các video có chuyển động liên tục. Như video review đế chế thì thuật toán này hoàn toàn ăn hại nha :))</li>
</ul>
<hr>
<p><strong>Về code:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_keyframes</span>(<span class="params">video_path, threshold=<span class="number">25</span></span>):</span><br><span class="line">    cap = cv2.VideoCapture(video_path)</span><br><span class="line">    </span><br><span class="line">    ret, prev_frame = cap.read()</span><br><span class="line">    prev_frame_gray = cv2.cvtColor(prev_frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    </span><br><span class="line">    keyframes = [prev_frame]</span><br><span class="line">    frame_count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        ret, frame = cap.read()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ret:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">        frame_gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</span><br><span class="line">        </span><br><span class="line">        diff = cv2.absdiff(frame_gray, prev_frame_gray)</span><br><span class="line">        </span><br><span class="line">        mean_diff = np.mean(diff)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> mean_diff &gt; threshold:</span><br><span class="line">            keyframes.append(frame)</span><br><span class="line">        </span><br><span class="line">        prev_frame_gray = frame_gray</span><br><span class="line">        frame_count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    cap.release()</span><br><span class="line">    <span class="keyword">return</span> keyframes</span><br><span class="line"></span><br><span class="line">video_path = <span class="string">&#x27;AOE.mp4&#x27;</span></span><br><span class="line"></span><br><span class="line">keyframes = extract_keyframes(video_path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, frame <span class="keyword">in</span> <span class="built_in">enumerate</span>(keyframes):</span><br><span class="line">    cv2.imwrite(<span class="string">f&quot;keyframe_<span class="subst">&#123;i&#125;</span>.jpg&quot;</span>, frame)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Đã trích xuất <span class="subst">&#123;<span class="built_in">len</span>(keyframes)&#125;</span> keyframe.&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Xem mấy cái mà tôi test nè:</strong><br>
Đầu vào là một video về Taxi công nghệ ở Trung Quốc đang làm mưa làm gió trong thị trường dịch vụ xe, các tài xế có nguy cơ bị mất việc do máy móc, ai thay thế.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/5.png" alt=""></p>
<p>Muốn coi thì đây: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=aBLSQdQzEXw&amp;t=1s">https://www.youtube.com/watch?v=aBLSQdQzEXw&amp;t=1s</a></p>
<p>Đó thì khi mà chạy thuật toán với 2361 frame (video 1p31s) và threshold = 30 thì cho ra 12 keyframes:<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/6.png" alt=""></p>
<p>Sau khi xem đi xem lại video 10 lần và bằng việc kiểm thử bằng mắt thì tôi thấy keyframes khá ok:</p>
<p>Các để chọn ngưỡng, tôi chạy lại thuật toán với nhiều ngưỡng khác nhau và viết các hàm để tính toán các chỉ số như độ phủ, tỉ lệ nén, độ đa dạng thì cho ra threshold = [27, 30] là đẹp.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/7.png" alt=""></p>
<p>Ae mà áp dụng thuật toán này cho cái video về AOE thì nó chỉ cho ra có 2 frame và mất mát nhiều thông tin (threshold = 30). Vì vậy những video có nhiều hành động thì thuật toán này phế :))).</p>
<h2 id="thuật-toán-2">Thuật toán 2:</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.researchgate.net/publication/378290846/figure/fig3/AS:11431281244385123@1715912065469/Improved-three-frame-difference-method.png" alt=""></p>
<p>Tương tự như cái trên nhưng có thêm bước tiền xử lý tăng độ tương phản cho ảnh và lặp với frame k - 1, k, k+1. Lấy giao của của {fk, fk-1}, {fk, fk+1}.</p>
<p>Rồi so sánh với ngưỡng để pick keyframe. Cái này chạy chậm hơn cái trên</p>
<h2 id="thuật-toán-3-dùng-kmeans">Thuật toán 3: Dùng KMeans</h2>
<p>Nghe khá là vô lý nhưng mà ý tưởng thì tuyệt vời v ò:</p>
<ul>
<li>Đầu tiên, giảm số chiều của các khung hình video bằng cách sử dụng phương pháp phân tích thành phần chính (PCA). Do là Kmeams kém hiệu quả đối với các dữ liệu có nhiều chiều nên ta phải dùng pca để giảm số chiều đi để tạo thành các điểm trong không gian 2 chiều.</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/1.png" alt=""></p>
<ul>
<li>Thứ hai, phân cụm dữ liệu bằng cách sử dụng k-means để tìm các nhóm khung hình chính duy nhất</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/2.png" alt=""><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/3.png" alt=""></p>
<ul>
<li>Sử dụng k=8 để xác định 8 khung hình chính từ video để gán nhãn. (cái này dùng Elbow để xác định nha)</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/4.png" alt=""></p>
<p>-&gt; Túm lại là trông nó khá là rườm rà và đúng như vậy thuật toán này khá phế và chạy thì cực lâu do độ phức tạp của Kmeans là cực kỳ lớn. (Tôi thuyết trình về Kmeans xong bị thầy hành nhiều rồi nên biết :)))</p>
<p>Ai muốn tìm hiểu kĩ hơn thì xem ở <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=jeOwQiIjsdw">đây</a> nha!</p>
<h1 id="các-công-cụ-hỗ-trợ">Các công cụ hỗ trợ</h1>
<p>OpenCV: Thư viện mạnh mẽ cho computer vision, về độ hót thì khỏi phải nói, từ lúc tôi học python tôi đã nghe về thư viện này. Ngày xưa tôi đam mê computer vision lắm (tôi sẽ không nói là tôi mê CV từ lúc tôi nhìn thấy job CV Engineer 5 year with salary 15k $ đâu :&gt;). Túm lại là thư viện này có tất cả những cái cần thiết và các thuật toán tối ưu</p>
<h1 id="ứng-dụng-thực-tế-khi-keyframe-làm-nên-chuyện-lớn">Ứng Dụng Thực Tế: Khi Keyframe Làm Nên Chuyện Lớn</h1>
<h2 id="tóm-tắt-video">Tóm tắt video:</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://blog.maika.ai/wp-content/uploads/2024/04/tom-tat-video-youtube-thumb.jpg" alt=""></p>
<p>Thay vì xem cả video dài hàng giờ, keyframe giúp bạn tạo ra những bản tóm tắt ngắn gọn và cô đọng. Học kiến thức một cách nhanh chóng mà chả cần phải ngồi để xem hết video.</p>
<h2 id="phân-tích-nội-dung-video">Phân tích nội dung video:</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lh4.googleusercontent.com/JQI3MKQ_m2fJFNokSrnJI0z7SyLmZSgSB-5iPh4b9sEm89Mv7Cm6yqbPFIM-Yp_yykBnp52uy39-2TzsxPe0ewS7xsCUO-Wm40WYNVIFYX1mZq1lzA83KuWZszOZSFSDYqtcmMgH" alt=""></p>
<p>Bạn có từng nghĩ là nó có thể biết được video có ý nghĩa như nào chưa. Bạn bị mất trộm một đồ vật quan trọng mà bạn chỉ nhớ những chi tiết quan trọng trong cái thời gian bạn bị mất (nhà bạn có camera ghi lại video). Bạn muốn tìm lại thông tin ấy, ví dụ lúc ấy có bạn zai nào đó mặc áo màu đỏ đi ngang qua. Thì ta có thể dễ dàng truy vấn lại đoạn video đó. Và tìm lại được đồ bị mất.</p>
<p>-&gt; Hay v ò ae ạ.</p>
<h2 id="tạo-thumbnails">Tạo thumbnails:</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://p16-capcut-va.ibyteimg.com/tos-maliva-i-6rr7idwo9f-us/1701085644467.344~tplv-6rr7idwo9f-image.image" alt=""></p>
<blockquote>
<p>như cái tôi đang nghiên cứu thì cái thumbnails này quan trọng lắm nha.<br>
Các nền tảng video như YouTube sử dụng keyframe để tạo thumbnails - những hình ảnh thu nhỏ đại diện cho video. Một thumbnail hấp dẫn thường là một keyframe thể hiện nội dung nổi bật nhất của video.</p>
</blockquote>
<h1 id="thách-thức-và-giải-pháp-làm-thế-nào-để-chọn-keyframe-tốt-nhất">Thách Thức và Giải Pháp: Làm Thế Nào Để Chọn Keyframe Tốt Nhất?</h1>
<h2 id="chọn-keyframe-đúng">Chọn keyframe đúng:</h2>
<p>Đôi khi việc chọn đúng keyframe là một thách thức lớn, đặc biệt với những video có nội dung phức tạp hoặc thay đổi liên tục. Giải pháp là sử dụng các phương pháp kết hợp hoặc ứng dụng machine learning để tối ưu hóa quá trình này.</p>
<h2 id="hiệu-suất-xử-lý">Hiệu suất xử lý:</h2>
<p>Với những video dài hoặc có độ phân giải cao, việc extract keyframe có thể tiêu tốn nhiều tài nguyên. Sử dụng các công cụ tối ưu như FFmpeg hoặc triển khai xử lý trên GPU có thể giúp giải quyết vấn đề này.</p>
<h1 id="gợi-ý-đọc-thêm">Gợi Ý Đọc Thêm</h1>
<p>Nếu bạn muốn tìm hiểu thêm về chủ đề này, đây là một số tài liệu và khóa học có thể hữu ích:</p>
<p><strong>Computer Vision:</strong> Algorithms and Applications - Richard Szeliski<br>
<strong>Digital Video Processing</strong> - A. Murat Tekalp<br>
<strong>Learning OpenCV</strong> - Gary Bradski and Adrian Kaehler</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/Keyframe/8.png" alt=""></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io">GluTis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io/posts/1rcc393f">https://huyvu15.github.io/posts/1rcc393f</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AI/">AI</a><a class="post-meta__tags" href="/tags/Knownledge/">Knownledge</a><a class="post-meta__tags" href="/tags/Extract/">Extract</a><a class="post-meta__tags" href="/tags/Process-Video/">Process Video</a></div><div class="post_share"><div class="social-share" data-image="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Sponsor</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/money/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/wechat.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li><li class="reward-item"><a href="/img/money/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/alipay.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1r6d393y" title="Tìm hiểu Doris"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.thinkdataworks.com/hs-fs/hubfs/2022%20integrations/Logo_Doris.png?width=600&amp;height=400&amp;name=Logo_Doris.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Tìm hiểu Doris</div></div></a></div><div class="next-post pull-right"><a href="/posts/1r6d39fff" title="Tìm lại kiến thức trong tháng 8"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://clipground.com/images/august-clipart-11.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">Tìm lại kiến thức trong tháng 8</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/posts/1r6d393f" title="AI và một vài cái hay ho"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vbpo.com.vn/media/uploads/2021/05/27/ai-la-gi.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="title">AI và một vài cái hay ho</div></div></a></div><div><a href="/posts/1r6c393f" title="Kĩ thuật Transfer Learning và Fineturning Learning"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/C5612AQGjSQYL10w5cg/article-cover_image-shrink_600_2000/0/1589871047792?e=2147483647&v=beta&t=8TX2avemVBdHTrbRIsJvSjtpr-JU5QEc8Jqnn-N2kuU" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-30</div><div class="title">Kĩ thuật Transfer Learning và Fineturning Learning</div></div></a></div><div><a href="/posts/1r6d39fff" title="Tìm lại kiến thức trong tháng 8"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://clipground.com/images/august-clipart-11.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-08</div><div class="title">Tìm lại kiến thức trong tháng 8</div></div></a></div><div><a href="/posts/2r3d326f" title="Những thử thách gặp phải trong dự án Detect License Plate"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://d3i71xaburhd42.cloudfront.net/956a55d67a95509b5babfec73b0329cf936fd261/2-Figure1-1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-12</div><div class="title">Những thử thách gặp phải trong dự án Detect License Plate</div></div></a></div><div><a href="/posts/nrbd392f" title="Hướng dẫn chạy lại base pipeline"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.xenonstack.com/hubfs/xenonstack-machine-learning-pipeline.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-23</div><div class="title">Hướng dẫn chạy lại base pipeline</div></div></a></div><div><a href="/posts/1r6d396f" title="Học gì để trở thành một Data Engineer"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://photo2.tinhte.vn/data/attachment-files/2020/12/5245084_cover_home_data_engineer.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-10</div><div class="title">Học gì để trở thành một Data Engineer</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#keyframe-trong-video"><span class="toc-number">1.</span> <span class="toc-text">Keyframe trong Video</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#keyframe-l%C3%A0-g%C3%AC"><span class="toc-number">1.1.</span> <span class="toc-text">Keyframe là gì?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#t%E1%BA%A1i-sao-vi%E1%BB%87c-extract-keyframe-l%E1%BA%A1i-quan-tr%E1%BB%8Dng"><span class="toc-number">1.2.</span> <span class="toc-text">Tại sao việc extract keyframe lại quan trọng?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#c%C3%A1c-ph%C6%B0%C6%A1ng-ph%C3%A1p-extract-keyframe-ch%E1%BB%8Dn-l%E1%BB%8Dc-kho%E1%BA%A3nh-kh%E1%BA%AFc-%C4%91%E1%BA%AFt-gi%C3%A1"><span class="toc-number">2.</span> <span class="toc-text">Các Phương Pháp Extract Keyframe: Chọn Lọc Khoảnh Khắc Đắt Giá</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#thu%E1%BA%ADt-to%C3%A1n-1-t%C3%B4i-ngh%C4%A9-l%C3%A0-t%E1%BB%91t-nh%E1%BA%A5t-trong-tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-c%E1%BB%A7a-t%C3%B4i-%C4%91ang-g%E1%BA%B7p-hi%E1%BB%87n-t%E1%BA%A1i"><span class="toc-number">3.</span> <span class="toc-text">Thuật toán 1: Tôi nghĩ là tốt nhất trong trường hợp của tôi đang gặp hiện tại</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#thu%E1%BA%ADt-to%C3%A1n-2"><span class="toc-number">3.1.</span> <span class="toc-text">Thuật toán 2:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#thu%E1%BA%ADt-to%C3%A1n-3-d%C3%B9ng-kmeans"><span class="toc-number">3.2.</span> <span class="toc-text">Thuật toán 3: Dùng KMeans</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#c%C3%A1c-c%C3%B4ng-c%E1%BB%A5-h%E1%BB%97-tr%E1%BB%A3"><span class="toc-number">4.</span> <span class="toc-text">Các công cụ hỗ trợ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E1%BB%A9ng-d%E1%BB%A5ng-th%E1%BB%B1c-t%E1%BA%BF-khi-keyframe-l%C3%A0m-n%C3%AAn-chuy%E1%BB%87n-l%E1%BB%9Bn"><span class="toc-number">5.</span> <span class="toc-text">Ứng Dụng Thực Tế: Khi Keyframe Làm Nên Chuyện Lớn</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#t%C3%B3m-t%E1%BA%AFt-video"><span class="toc-number">5.1.</span> <span class="toc-text">Tóm tắt video:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ph%C3%A2n-t%C3%ADch-n%E1%BB%99i-dung-video"><span class="toc-number">5.2.</span> <span class="toc-text">Phân tích nội dung video:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#t%E1%BA%A1o-thumbnails"><span class="toc-number">5.3.</span> <span class="toc-text">Tạo thumbnails:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#th%C3%A1ch-th%E1%BB%A9c-v%C3%A0-gi%E1%BA%A3i-ph%C3%A1p-l%C3%A0m-th%E1%BA%BF-n%C3%A0o-%C4%91%E1%BB%83-ch%E1%BB%8Dn-keyframe-t%E1%BB%91t-nh%E1%BA%A5t"><span class="toc-number">6.</span> <span class="toc-text">Thách Thức và Giải Pháp: Làm Thế Nào Để Chọn Keyframe Tốt Nhất?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ch%E1%BB%8Dn-keyframe-%C4%91%C3%BAng"><span class="toc-number">6.1.</span> <span class="toc-text">Chọn keyframe đúng:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hi%E1%BB%87u-su%E1%BA%A5t-x%E1%BB%AD-l%C3%BD"><span class="toc-number">6.2.</span> <span class="toc-text">Hiệu suất xử lý:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#g%E1%BB%A3i-%C3%BD-%C4%91%E1%BB%8Dc-th%C3%AAm"><span class="toc-number">7.</span> <span class="toc-text">Gợi Ý Đọc Thêm</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By GluTis</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const abcjsInit = () => {
    const abcjsFn = () => {
      document.querySelectorAll(".abc-music-sheet").forEach(ele => {
        ABCJS.renderAbc(ele, ele.innerHTML, {responsive: 'resize'})
      })
    }
    
    typeof ABCJS === 'object' ? abcjsFn()
      : getScript('https://cdn.jsdelivr.net/npm/abcjs@6.3.0/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : window.addEventListener('load', abcjsInit)
})()</script><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'huyvu15/huyvu15.github.io',
      'data-repo-id': 'R_kgDOMHLk0w',
      'data-category-id': 'DIC_kwDOMHLk084CgTi9',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },{"data-category":"Show and tell","data-mapping":"url","data-strict":0,"data-reactions-enabled":1,"data-emit-metadata":1,"data-input-position":"top","data-theme":"preferred_color_scheme","data-lang":"en","crossorigin":"anonymous"})

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script data-pjax src="/js/foot.js"></script><script data-pjax src="/js/ip.js"></script><script data-pjax src="/js/Capoo.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="Mình,là,GluTis" data-fontsize="15px" data-random="false" async="async"></script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }
  
    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'odrCmotXiknn7yHdF'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>