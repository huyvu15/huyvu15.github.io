<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Tìm hiểu Doris | Blog's GluTis</title><meta name="author" content="GluTis,huyv80313@gmail.com"><meta name="copyright" content="GluTis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="FFFAFA"><meta name="description" content="Giới thiệuDoris là một relation database tối ưu để phát triển DW open - source với tính năng real-time tốt. Nó bảo gồm nhiều relation database (Mysql, PostgreSQL, SQL Server, Oracle, etc.), log và dữ">
<meta property="og:type" content="article">
<meta property="og:title" content="Tìm hiểu Doris">
<meta property="og:url" content="https://huyvu15.github.io/posts/1r6d393y">
<meta property="og:site_name" content="Blog&#39;s GluTis">
<meta property="og:description" content="Giới thiệuDoris là một relation database tối ưu để phát triển DW open - source với tính năng real-time tốt. Nó bảo gồm nhiều relation database (Mysql, PostgreSQL, SQL Server, Oracle, etc.), log và dữ">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.thinkdataworks.com/hs-fs/hubfs/2022%20integrations/Logo_Doris.png?width=600&height=400&name=Logo_Doris.png">
<meta property="article:published_time" content="2024-08-12T00:35:12.000Z">
<meta property="article:modified_time" content="2024-08-12T01:33:43.102Z">
<meta property="article:author" content="GluTis">
<meta property="article:tag" content="Knowledge">
<meta property="article:tag" content="Doris">
<meta property="article:tag" content="DW">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.thinkdataworks.com/hs-fs/hubfs/2022%20integrations/Logo_Doris.png?width=600&height=400&name=Logo_Doris.png"><link rel="shortcut icon" href="/img/about/icon.jpg"><link rel="canonical" href="https://huyvu15.github.io/posts/1r6d393y"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="G2rPpjA8qhdAQYUqgC3WTFeaOfenZ71SWXKcg_WnOSk"/><meta name="baidu-site-verification" content="codeva-z19ndifHai"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?204a6d3bb0cb0e09978eff5ba3023104";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "kmd11rvmc3");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: {"limitDay":30,"position":"top","messagePrev":"Bài viết này đã có","messageNext":"Ngày không cập nhật, xin lưu ý phân biệt tính kịp thời, có thể một phần đã không còn hiệu lực."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Tìm hiểu Doris',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-12 08:33:43'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'FFFAFA')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/card-info-btn.css"><script data-pjax charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script data-pjax>LA.init({id:"3HPYFt9znqKItrHZ",ck:"3HPYFt9znqKItrHZ",autoTrack:true})</script><link rel="stylesheet" type="text/css" href="/css/Capoo.css"><link rel="stylesheet" type="text/css" href="/css/foot.css"><link rel="stylesheet" type="text/css" href="/css/extra.css"><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="Blog's GluTis" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">53</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">109</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://www.thinkdataworks.com/hs-fs/hubfs/2022%20integrations/Logo_Doris.png?width=600&amp;height=400&amp;name=Logo_Doris.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Blog's GluTis"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/about/icon.jpg"/><span class="site-name">Blog's GluTis</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/#/"><i class="fa-fw fas fa-home"></i><span> Trang chủ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tag</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-pencil"></i><span> Project</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/posts/1n6d313f/"><i class="fa-fw fa fa-arrow-up"></i><span> Nhận thông báo chi tiêu từ shopee</span></a></li><li><a class="site-page child" href="/posts/123ofe2/"><i class="fa-fw fa fa-arrow-down"></i><span> Tạo ChatBot trên Telegram</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://huyvu15.click/"><i class="fa-fw fas fa-map"></i><span> Điều hướng</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Tìm hiểu Doris<a class="post-edit-link" href="https://github.com/huyvu15/huyvu15.github.io/tree/main/source/_posts/Tim_hieu_Doris.md" title="Edited on" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-08-12T00:35:12.000Z" title="Created 2024-08-12 07:35:12">2024-08-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-08-12T01:33:43.102Z" title="Updated 2024-08-12 08:33:43">2024-08-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/DW/">DW</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>11mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Tìm hiểu Doris"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h1><p>Doris là một relation database tối ưu để phát triển DW open - source với tính năng real-time tốt. Nó bảo gồm nhiều relation database (Mysql, PostgreSQL, SQL Server, Oracle, etc.), log và dữ liệu time seri. Hỗ trợ phục vụ cho dashboard, phân tích log, phân tích hành vi người dùng.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://dbdb.io/media/logos/doris.svg" alt=""></p>
<p>Apache Doris hỗ trợ cả nhập hàng loạt và ghi luồng. Nó có thể tích hợp tốt với Apache Spark, Apache Hive, Apache Flink, Airbyte, DBT và Fivetran. Nó cũng có thể kết nối với các hồ dữ liệu như Apache Hive, Apache Hudi, Apache Iceberg, Delta Lake và Apache Paimon.</p>
<h1 id="Hieu-nang"><a href="#Hieu-nang" class="headerlink" title="Hiệu năng"></a>Hiệu năng</h1><p>Là một công cụ OLAP thời gian thực, Apache Doris có lợi thế cạnh tranh về tốc độ truy vấn. Theo kết quả đánh giá chuẩn TPC-H và SSB-Flat, Doris có thể mang lại hiệu suất nhanh hơn nhiều so với Presto, Greenplum và ClickHouse.</p>
<p>→ Có 2 blog nói rằng Doris tốt hơn hơn ClickHouse:</p>
<p>1.<a target="_blank" rel="noopener" href="https://hackernoon.com/vi/chuy%E1%BB%83n-nh%E1%BA%A1c-tencent-t%E1%BB%AB-clickhouse-sang-apache-doris">https://hackernoon.com/vi/chuy%E1%BB%83n-nh%E1%BA%A1c-tencent-t%E1%BB%AB-clickhouse-sang-apache-doris</a></p>
<p>2.<a target="_blank" rel="noopener" href="https://hackernoon.com/vi/T%C3%B4i-s%E1%BA%BD-h%E1%BB%97-tr%E1%BB%A3-tr%E1%BA%A3i-nghi%E1%BB%87m-Tencent-v%E1%BB%9Bi-apache-doris">https://hackernoon.com/vi/T%C3%B4i-s%E1%BA%BD-h%E1%BB%97-tr%E1%BB%A3-tr%E1%BA%A3i-nghi%E1%BB%87m-Tencent-v%E1%BB%9Bi-apache-doris</a></p>
<h1 id="Kien-truc"><a href="#Kien-truc" class="headerlink" title="Kiến trúc"></a>Kiến trúc</h1><p>Làm sao để Doris có thể nhanh và tạo ra được những ưu điểm vượt bậc như thế đó là nhờ hết các tính năng và cơ chế góp vào kiến trúc của doris.<br>Apache Doris nổi bật với một trình tối ưu hóa dựa trên chi phí (CBO) tiên tiến, cho phép xác định kế hoạch thực thi tối ưu cho các truy vấn lớn và phức tạp. Đặc biệt, hệ thống sử dụng một công cụ thực thi hoàn toàn vector hóa, giúp giảm thiểu các lệnh gọi hàm ảo và cải thiện hiệu suất bộ nhớ đệm. Được xây dựng trên nền tảng MPP (Massively Parallel Processing), Doris có khả năng tận dụng tối đa tài nguyên máy chủ và hiệu suất của các lõi xử lý. Trong Apache Doris, việc thực thi truy vấn được điều khiển bởi dữ liệu – có nghĩa là một truy vấn chỉ được thực hiện khi dữ liệu liên quan đã sẵn sàng, từ đó tối ưu hóa việc sử dụng CPU một cách hiệu quả nhất.</p>
<h2 id="Truy-van-diem-nhanh-cho-co-so-du-lieu-huong-cot"><a href="#Truy-van-diem-nhanh-cho-co-so-du-lieu-huong-cot" class="headerlink" title="Truy vấn điểm nhanh cho cơ sở dữ liệu hướng cột"></a>Truy vấn điểm nhanh cho cơ sở dữ liệu hướng cột</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/v2/D4D12AQHUuSkvZO3bJg/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1698302229781?e=1729123200&amp;v=beta&amp;t=GKmSz7k7mR7IRAk-JEa169vMUN0LW4nhpXMLCIguY-A" alt=""></p>
<p>Một cái rất hay ở Doris khác với các DWH còn lại thì Apache Doris cho phép lưu trữ kết hợp, nghĩa là có lưu trữ theo hàng và lưu trữ theo cột cùng một lúc.</p>
<p>Làm sao để Doris truy vấn nhanh hơn so các các DWH còn lại:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/v2/D4D12AQHaCG-ILXMwhw/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1698302246086?e=1729123200&amp;v=beta&amp;t=3Ttd3kDHSxLLr8xvIFiZLU15OhKsv0OqnJiqm1ZBNVE" alt=""></p>
<p>Ý tưởng là tính toán trước các câu lệnh SQL và lưu trữ chúng trong bộ nhớ đệm, để chúng có thể được sử dụng lại cho các truy vấn tương tự.    </p>
<h1 id="THU-THAP-DU-LIEU"><a href="#THU-THAP-DU-LIEU" class="headerlink" title="THU THẬP DỮ LIỆU"></a>THU THẬP DỮ LIỆU</h1><p>Apache Doris cung cấp nhiều phương pháp thu thập dữ liệu.<br>Viết luồng thời gian thực :</p>
<ul>
<li>Stream Load : Bạn có thể áp dụng phương pháp này để ghi các tệp cục bộ hoặc luồng dữ liệu qua HTTP. Nó có thể mở rộng tuyến tính và có thể đạt thông lượng 10 triệu bản ghi mỗi giây trong một số trường hợp sử dụng.</li>
<li>Flink-Doris-Connector : Với Flink CDC tích hợp, Connector này sẽ thu thập dữ liệu từ cơ sở dữ liệu OLTP đến Doris. Cho đến nay, chúng tôi đã thực hiện đồng bộ hóa tự động dữ liệu từ MySQL và Oracle đến Doris.</li>
<li>Routine Load : Dùng để đăng ký dữ liệu từ hàng đợi tin nhắn Kafka.</li>
<li>Insert Into : Điều này đặc biệt hữu ích khi bạn cố gắng thực hiện ETL trong Doris nội bộ, chẳng hạn như ghi dữ liệu từ bảng Doris này sang bảng Doris khác.</li>
</ul>
<p>Viết theo lô :</p>
<ul>
<li>Spark Load : Với phương pháp này, bạn có thể tận dụng tài nguyên Spark để xử lý trước dữ liệu từ HDFS và bộ lưu trữ đối tượng trước khi ghi vào Doris.</li>
<li>Broker Load : Hỗ trợ giao thức HDFS và S3.</li>
<li>insert into <bảng bên trong> select from <bảng bên ngoài>: Câu lệnh đơn giản này cho phép bạn kết nối Doris với nhiều hệ thống lưu trữ, hồ dữ liệu và cơ sở dữ liệu khác nhau.</li>
</ul>
<h1 id="Update-data"><a href="#Update-data" class="headerlink" title="Update data"></a>Update data</h1><p>Cập nhật đồng thời: Trong một số trường hợp, việc cập nhật dữ liệu diễn ra đồng thời, nghĩa là nhiều dữ liệu mới có thể đến cùng lúc và cố gắng sửa đổi các bản ghi hiện có. Do đó, thứ tự cập nhật trở nên rất quan trọng.<br>Quyết định thứ tự cập nhật: Doris cho phép bạn quyết định thứ tự cập nhật dữ liệu. Bạn có thể chọn cập nhật theo thứ tự của các giao dịch đã cam kết hoặc theo thứ tự của cột trình tự, một cột mà bạn có thể chỉ định trước trong bảng.<br>Hỗ trợ xóa dữ liệu: Doris cũng hỗ trợ việc xóa dữ liệu dựa trên các vị từ đã chỉ định, cho phép bạn thực hiện các cập nhật có điều kiện một cách linh hoạt.</p>
<h1 id="Quan-ly-user"><a href="#Quan-ly-user" class="headerlink" title="Quản lý user"></a>Quản lý user</h1><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/D4D12AQGqyokZg_GEkA/article-inline_image-shrink_1500_2232/0/1698302371079?e=1729123200&amp;v=beta&amp;t=b2K5IbSw7rPAJkJNQjbEGKvn5RXusRP0-S5yS-6gdZU" alt=""></p>
<p>Apache Doris có Kiểm soát truy cập dựa trên vai trò tinh vi và cho phép kiểm soát đặc quyền chi tiết ở cấp độ cơ sở dữ liệu, bảng, hàng và cột.</p>
<h1 id="Tinh-de-su-dung"><a href="#Tinh-de-su-dung" class="headerlink" title="Tính dễ sử dụng"></a>Tính dễ sử dụng</h1><p>Apache Doris cung cấp nhiều khả năng, nhưng cũng dễ sử dụng. Nó hỗ trợ SQL chuẩn và tương thích với giao thức MySQL và hầu hết các công cụ BI trên thị trường.</p>
<ul>
<li>Giao diện nhìn chung khá ưa mắt</li>
<li>Phân tích dữ liệu bán cấu trúc (văn bản, …)</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/D4D12AQED18hQPCAnOA/article-inline_image-shrink_1500_2232/0/1698302421113?e=1729123200&amp;v=beta&amp;t=061nj3s63c6GyMxL-ZE8jepwXArhCe-j74FPUL7Mf60" alt=""></p>
<p>Trong phân tích văn bản, mọi người thường sử dụng toán tử LIKE, vì vậy chúng tôi đã nỗ lực rất nhiều để cải thiện hiệu suất của nó, bao gồm đưa toán tử LIKE xuống lớp lưu trữ (để giảm việc quét dữ liệu) và giới thiệu NGram Bloomfilter, thư viện so khớp biểu thức chính quy Hyperscan và thuật toán Volnitsky (để so khớp chuỗi con).</p>
<p>Chúng tôi cũng đã giới thiệu chỉ mục đảo ngược cho mã thông báo văn bản. Đây là một công cụ mạnh mẽ cho tìm kiếm từ khóa mờ, tìm kiếm toàn văn, truy vấn tương đương và truy vấn phạm vi.</p>
<h1 id="Data-lake"><a href="#Data-lake" class="headerlink" title="Data lake"></a>Data lake</h1><p>Kết quả chuẩn cho thấy Apache Doris nhanh hơn Trino từ 3~5 lần trong các truy vấn trên bảng Hive. Đây là kết quả kết hợp của một số tính năng:</p>
<ul>
<li>Công cụ truy vấn hiệu quả</li>
<li>Cơ chế lưu trữ dữ liệu nóng</li>
<li>Các nút tính toán</li>
<li>Quan điểm ở Doris</li>
<li>Lưu trữ nhiều tầng</li>
</ul>
<p>Mục đích chính của lưu trữ theo tầng là tiết kiệm tiền. Lưu trữ theo tầng có nghĩa là tách dữ liệu nóng và dữ liệu lạnh thành các bộ lưu trữ khác nhau, trong đó dữ liệu nóng là dữ liệu thường xuyên được truy cập và dữ liệu lạnh không thường xuyên. Nó cho phép người dùng đưa dữ liệu nóng vào các đĩa nhanh nhưng đắt tiền (như SSD và HDD) và dữ liệu lạnh vào bộ lưu trữ đối tượng. </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.licdn.com/dms/image/v2/D4D12AQFqr9aV477Utg/article-inline_image-shrink_1500_2232/article-inline_image-shrink_1500_2232/0/1698302456898?e=1729123200&amp;v=beta&amp;t=D9khkUkS65J8VEVo9X4NVSQ3O3TbZBsT29cckblKxpI" alt=""></p>
<p>Nói một cách đại khái, đối với một tài sản dữ liệu bao gồm 80% dữ liệu lạnh, lưu trữ theo tầng sẽ giúp bạn giảm 70% chi phí lưu trữ.</p>
<h1 id="Tai-lieu-tham-khao"><a href="#Tai-lieu-tham-khao" class="headerlink" title="Tài liệu tham khảo"></a>Tài liệu tham khảo</h1><p><a target="_blank" rel="noopener" href="https://www.linkedin.com/pulse/introduction-apache-doris-next-generation-real-time-data-4vlcf/">https://www.linkedin.com/pulse/introduction-apache-doris-next-generation-real-time-data-4vlcf/</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io">GluTis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://huyvu15.github.io/posts/1r6d393y">https://huyvu15.github.io/posts/1r6d393y</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Knowledge/">Knowledge</a><a class="post-meta__tags" href="/tags/Doris/">Doris</a><a class="post-meta__tags" href="/tags/DW/">DW</a></div><div class="post_share"><div class="social-share" data-image="https://www.thinkdataworks.com/hs-fs/hubfs/2022%20integrations/Logo_Doris.png?width=600&amp;height=400&amp;name=Logo_Doris.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Sponsor</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/money/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/wechat.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li><li class="reward-item"><a href="/img/money/alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/money/alipay.png" alt="bank"/></a><div class="post-qr-code-desc">bank</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/1r6d323y" title="Tìm hiểu Airbyte"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn-1.webcatalog.io/catalog/airbyte/airbyte-social-preview.png?v=1714773163086" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Tìm hiểu Airbyte</div></div></a></div><div class="next-post pull-right"><a href="/posts/1rcc393f" title="Keyframe - Trái Tim của Nội Dung Video"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs11042-023-15829-5/MediaObjects/11042_2023_15829_Fig4_HTML.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">Keyframe - Trái Tim của Nội Dung Video</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/posts/qwertyui" title="Những challenge mà tôi đã tham gia"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://static.wixstatic.com/media/a39b89_240f570618f045fab282cbed95c1e8d8~mv2.gif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-11</div><div class="title">Những challenge mà tôi đã tham gia</div></div></a></div><div><a href="/posts/1r6d323y" title="Tìm hiểu Airbyte"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn-1.webcatalog.io/catalog/airbyte/airbyte-social-preview.png?v=1714773163086" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-12</div><div class="title">Tìm hiểu Airbyte</div></div></a></div><div><a href="/posts/23dd393y" title="Những dòng ghi chú ngày cũ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://didongviet.vn/dchannel/wp-content/uploads/2023/11/web-ghi-chu-online-5-didongviet.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-19</div><div class="title">Những dòng ghi chú ngày cũ</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Gioi-thieu"><span class="toc-number">1.</span> <span class="toc-text">Giới thiệu</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hieu-nang"><span class="toc-number">2.</span> <span class="toc-text">Hiệu năng</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Kien-truc"><span class="toc-number">3.</span> <span class="toc-text">Kiến trúc</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Truy-van-diem-nhanh-cho-co-so-du-lieu-huong-cot"><span class="toc-number">3.1.</span> <span class="toc-text">Truy vấn điểm nhanh cho cơ sở dữ liệu hướng cột</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#THU-THAP-DU-LIEU"><span class="toc-number">4.</span> <span class="toc-text">THU THẬP DỮ LIỆU</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Update-data"><span class="toc-number">5.</span> <span class="toc-text">Update data</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Quan-ly-user"><span class="toc-number">6.</span> <span class="toc-text">Quản lý user</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tinh-de-su-dung"><span class="toc-number">7.</span> <span class="toc-text">Tính dễ sử dụng</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Data-lake"><span class="toc-number">8.</span> <span class="toc-text">Data lake</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tai-lieu-tham-khao"><span class="toc-number">9.</span> <span class="toc-text">Tài liệu tham khảo</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By GluTis</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid@10.8.0/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const abcjsInit = () => {
    const abcjsFn = () => {
      document.querySelectorAll(".abc-music-sheet").forEach(ele => {
        ABCJS.renderAbc(ele, ele.innerHTML, {responsive: 'resize'})
      })
    }
    
    typeof ABCJS === 'object' ? abcjsFn()
      : getScript('https://cdn.jsdelivr.net/npm/abcjs@6.3.0/dist/abcjs-basic-min.min.js').then(abcjsFn)
  }

  window.pjax ? abcjsInit() : window.addEventListener('load', abcjsInit)
})()</script><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'huyvu15/huyvu15.github.io',
      'data-repo-id': 'R_kgDOMHLk0w',
      'data-category-id': 'DIC_kwDOMHLk084CgTi9',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },{"data-category":"Show and tell","data-mapping":"url","data-strict":0,"data-reactions-enabled":1,"data-emit-metadata":1,"data-input-position":"top","data-theme":"preferred_color_scheme","data-lang":"en","crossorigin":"anonymous"})

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !true) {
    if (true) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script data-pjax src="/js/foot.js"></script><script data-pjax src="/js/ip.js"></script><script data-pjax src="/js/Capoo.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="Mình,là,GluTis" data-fontsize="15px" data-random="false" async="async"></script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const close = () => {
      Chatra('minimizeWidget')
      Chatra('hide')
    }

    const open = () => {
      Chatra('openChat', true)
      Chatra('show')
    }

    window.ChatraSetup = {
      startHidden: true
    }
  
    window.chatBtnFn = () => {
      const isShow = document.getElementById('chatra').classList.contains('chatra--expanded')
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        Chatra('hide')
      },
      show: () => {
        Chatra('show')
      }
    }
  }

  (function(d, w, c) {
    w.ChatraID = 'odrCmotXiknn7yHdF'
    var s = d.createElement('script')
    w[c] = w[c] || function() {
        (w[c].q = w[c].q || []).push(arguments)
    }
    s.async = true
    s.src = 'https://call.chatra.io/chatra.js'
    if (d.head) d.head.appendChild(s)
  })(document, window, 'Chatra')

})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>